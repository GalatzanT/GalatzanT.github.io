<!doctype html>
<html>
  <head>
    <title>Will You Be My Valentine? ğŸ’•</title>

    <link rel="icon" type="image/x-icon" href="icon.jpeg" />
    <link rel="apple-touch-icon" href="icon.png" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="valentine.css" />
  </head>
  <body>
    <!-- Floating hearts background -->
    <div class="hearts-container">
      <div class="heart"></div>
      <div class="heart"></div>
      <div class="heart"></div>
      <div class="heart"></div>
      <div class="heart"></div>
      <div class="heart"></div>
      <div class="heart"></div>
      <div class="heart"></div>
    </div>

    <div class="container" id="questionContainer">
      <div class="card">
        <h1 class="title">ğŸ’ Happy Valentine's Day! ğŸ’</h1>

        <div class="message">
          <p class="question">Will you be my Valentine this year?</p>
          <p class="subtext">Please say yes... ğŸ¥º</p>
        </div>

        <div class="buttons">
          <button class="btn yes-btn" onclick="sayYes()">Yes! ğŸ’•</button>
          <button
            class="btn no-btn"
            id="noBtn"
            onmouseover="moveButton()"
            onclick="moveButton()"
          >
            No
          </button>
        </div>
      </div>
    </div>

    <div class="container hidden" id="responseContainer">
      <div class="card">
        <h1 class="celebration">ğŸ‰ Yay! ğŸ‰</h1>
        <img src="download.jpg" alt="Love" class="love-image" />
        <p class="love-message">I'm so happy! â¤ï¸</p>
        <p class="love-message">You've made me the happiest person! ğŸ’–</p>
        <p class="love-message">I love you so much! ğŸ˜Š</p>
        <div class="heart-burst">ğŸ’• ğŸ’– ğŸ’— ğŸ’“ ğŸ’ ğŸ’• ğŸ’– ğŸ’— ğŸ’“ ğŸ’</div>
      </div>
    </div>

    <script>
      let noButtonClickCount = 0;
      const noBtn = document.getElementById("noBtn");
      const safeDistance = 150; // Minimum distance from mouse in pixels

      // Track mouse movement
      document.addEventListener("mousemove", function(e) {
        if (!noBtn || noBtn.classList.contains('caught')) return;
        
        const btnRect = noBtn.getBoundingClientRect();
        const btnCenterX = btnRect.left + btnRect.width / 2;
        const btnCenterY = btnRect.top + btnRect.height / 2;
        
        const mouseX = e.clientX;
        const mouseY = e.clientY;
        
        // Calculate distance from mouse to button center
        const distance = Math.sqrt(
          Math.pow(mouseX - btnCenterX, 2) + Math.pow(mouseY - btnCenterY, 2)
        );
        
        // If mouse is too close, run away!
        if (distance < safeDistance) {
          runAway(mouseX, mouseY, btnCenterX, btnCenterY);
        }
      });

      function runAway(mouseX, mouseY, btnX, btnY) {
        const container = document.getElementById("questionContainer");
        const containerRect = container.getBoundingClientRect();
        
        // Calculate direction away from mouse
        const deltaX = btnX - mouseX;
        const deltaY = btnY - mouseY;
        const angle = Math.atan2(deltaY, deltaX);
        
        // Move button away from mouse
        const moveDistance = 100;
        let newX = btnX + Math.cos(angle) * moveDistance - containerRect.left;
        let newY = btnY + Math.sin(angle) * moveDistance - containerRect.top;
        
        // Keep button within container bounds
        const maxX = containerRect.width - 120;
        const maxY = containerRect.height - 60;
        
        newX = Math.max(0, Math.min(newX, maxX));
        newY = Math.max(0, Math.min(newY, maxY));
        
        noBtn.style.position = "absolute";
        noBtn.style.left = newX + "px";
        noBtn.style.top = newY + "px";
        noBtn.style.transition = "all 0.3s ease-out";
        
        // Change button text progressively
        noButtonClickCount++;
        const phrases = [
          "No",
          "Are you sure? ğŸ¥º",
          "Really? ğŸ’”",
          "Please? ğŸ¥¹",
          "Pretty please? ğŸ’•",
          "Think again! â¤ï¸",
          "One more chance? ğŸ’–",
          "You know you want to! ğŸ˜Š",
          "Just say yes! ğŸ’",
          "Come on! ğŸ¥°"
        ];
        
        const phraseIndex = Math.min(noButtonClickCount, phrases.length - 1);
        noBtn.textContent = phrases[phraseIndex];
      }

      function moveButton() {
        // This is for click/tap on mobile
        if (noBtn) {
          runAway(event.clientX || 0, event.clientY || 0, 
                  noBtn.getBoundingClientRect().left + 60,
                  noBtn.getBoundingClientRect().top + 30);
        }
      }

      function sayYes() {
        document.getElementById("questionContainer").classList.add("hidden");
        document.getElementById("responseContainer").classList.remove("hidden");

        // Create celebration effect
        createConfetti();
      }

      function createConfetti() {
        const container = document.body;
        for (let i = 0; i < 50; i++) {
          const confetti = document.createElement("div");
          confetti.className = "confetti";
          confetti.style.left = Math.random() * 100 + "%";
          confetti.style.animationDelay = Math.random() * 3 + "s";
          confetti.style.backgroundColor = [
            "#ff69b4",
            "#ff1493",
            "#ff69b4",
            "#ffc0cb",
          ][Math.floor(Math.random() * 4)];
          container.appendChild(confetti);

          setTimeout(() => confetti.remove(), 4000);
        }
      }
    </script>
  </body>
</html>
